(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7fc5"],{"78c1":function(n,e,o){"use strict";o.r(e);var l=function(){var n=this,e=n.$createElement;n._self._c;return n._m(0)},u=[function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",{staticClass:"about"},[o("h1",[n._v("Mocha测试")]),o("pre",[n._v("const mongoose=require('mongoose')\nrequire('../model')\nlet albumDao=require('../dao/AlbumDao');\nconst assert=require('assert')\n\ndescribe(\"测试AlbumDao\",function () {\n   before(function () {\n      mongoose.connect('mongodb://localhost/demo02',function (err) {\n\n      })\n   })\n    after(function () {\n        mongoose.disconnect()\n    })\n\n    it(\"测试添一张专辑\",function (done) {\n        let album={name:'my first album',price: 200}\n        albumDao.add\nconst mogoose=require('mongoose')\n\nlet albumModel=mogoose.model(\"Album\")\nfunction addAlbum(album,callback) {\n  let b=  albumModel.create(album,function (err,newBookDoc) {\n        if(!err) callback(newBookDoc.toObject())\n    })\n}\n\nfunction findAllAlbum(callback) {\n    albumModel.find({}).exec(function (err,albums) {\n        if(!err) callback(albums)\n    })\n}\n\nfunction deleteAlbum(id,callback) {\n    albumModel.findByIdAndRemove(id,function (err) {\n       if(!err) callback({})\n   })\n}\n\nmodule.exports={addAlbum,deleteAlbum,findAllAlbum}\n(album,function (nb) {\n\n            assert.ok(nb._id!=null)\n            done()\n        })\n    })\n    it('测试查询所有专辑',function (done) {\n        albumDao.findAllAlbum(function (albums) {\n           assert.ok(albums.length>0)\n           albums.forEach(album=>console.log(album._id))\n           done()\n       })\n    })\n    it(\"测试删除\",function (done) {\n        albumDao.deleteAlbum(\"5e1680416847d8312b777253\",function ({}) {\n            console.log({})\n            done()\n        })\n    })\n\n\n})")])])}],a=o("2877"),c={},t=Object(a["a"])(c,l,u,!1,null,null,null);e["default"]=t.exports}}]);
//# sourceMappingURL=chunk-2d0d7fc5.9d748dd9.js.map